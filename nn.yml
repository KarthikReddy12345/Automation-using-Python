- name: Configuring hadoop Namenode
  hosts: localhost
  vars_prompt:
          - name: "nnip"
            prompt: "Enter namenode ip: "
            private: no
  tasks:

          - name: Creating workspace for namenode
            file:
                    path: /nn
                    state: directory
          - name: Configuring hdfs-site.xml file
            blockinfile:
                    path: /etc/hadoop/hdfs-site.xml
                    insertafter: "<configuration>"
                    block:
                            <property>
                            <name>fs.name.dir</name>
                            <value>/nn</value>
                            </property>

          - name: Configuring core-site.xml file
            blockinfile:
                    path: /etc/hadoop/core-site.xml
                    insertafter: "<configuration>"
                    block:
                            <property>
                            <name>dfs.default.name</name>
                            <value>hdfs://{{ nnip }}:9001</value>
                            </property>
